- name: helper | startup | create task variables
  block:
    - set_fact:
        startup_dir: '{{ user_config }}/autostart'
    - set_fact:
        entry_path: '{{ startup_dir }}/{{ startup_facts.name }}.desktop'

- import_tasks: '{{ helpers }}/dir_create.yml'
  vars:
    dir_create_facts:
      - '{{ startup_dir }}'

- name: helper | startup | create file and content
  copy:
    content: "{{ lookup('template', 'startup') }}"
    dest: '{{ entry_path }}'
  when: entry_path is not file
