- name: helper | package_pip | install package
  pip:
    name: "{{ item.install }}"
    extra_args: "--user --upgrade"
    state: latest
  register: pip_install_result
  until: not pip_install_result.failed
  retries: 10
  delay: 10
  when: item.install is defined
  loop: "{{ q('items', package_pip_facts) }}"
