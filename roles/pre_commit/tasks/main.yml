- import_tasks: "{{ helpers }}/package_pip.yml"
  vars:
    package_pip_facts:
      - "pre-commit"

- import_tasks: "{{ helpers }}/copy.yml"
  vars:
    copy_facts:
      - src: ".pre-commit-config.yml"
        dest: "{{ playbook_dir }}"
  tags: "copy_pre_commit"

- name: install pre-commit to git hooks
  command: "~/.local/bin/pre-commit install --config .pre-commit-config.yml"
  args:
    chdir: "{{ playbook_dir }}"
  changed_when: False
  tags: "pre_commit_install"
