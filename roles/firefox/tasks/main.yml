- import_tasks: "{{ helpers }}/package_apt.yml"
  vars:
    package_apt_facts:
      install:
        - "firefox"
      remove:
        - "firefox-locale-en"

- import_tasks: "{{ helpers }}/shortcut.yml"
  vars:
    shortcut_facts:
      - name: "'firefox'"
        command: "'firefox'"
        binding: "['<Super>F1']"
  tags: "shortcut_firefox"

- import_tasks: "{{ helpers }}/template.yml"
  vars:
    template_facts:
      - src: "user.js"
        dest: "{{ user_home }}/.mozilla/firefox/custom.user"
  tags:
    - "user_font"
    - "template_firefox"

- import_tasks: "{{ helpers }}/copy.yml"
  vars:
    copy_facts:
      - src: "profiles.ini"
        dest: "{{ user_home }}/.mozilla/firefox"
      - src: "bookmarks.html"
        dest: "{{ user_home }}/.mozilla/firefox/custom.user"
      - src: "xulstore.json"
        dest: "{{ user_home }}/.mozilla/firefox/custom.user"
        backup: True
  tags: "copy_firefox"

- import_tasks: "{{ helpers }}/launcher.yml"
  vars:
    launcher_facts:
      - exec: "firefox"
        name: "firefox private"
        icon: "cs-privacy"
        options: "--private-window"
  tags: "launcher_firefox"
