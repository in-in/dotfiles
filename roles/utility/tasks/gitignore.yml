---
- name: gitignore | create tmp directory
  file:
    path: '{{ gitignore_tmp }}'
    state: directory
    force: yes

- name: gitignore | create template
  template:
    src: gitignore.j2
    dest: '{{ gitignore_tmp }}/{{ item.0 }}'
  with_indexed_items: '{{ utility_gitignore_list }}'

- name: gitignore | create main gitignore file
  assemble:
    src: '{{ gitignore_tmp }}'
    dest: '{{ dotfiles_directory }}/.gitignore'
    delimiter: '#'
