---
- name: run key helper
  import_tasks: '{{ helpers }}/key.yml'
  vars:
    key_facts:
      - 'https://www.virtualbox.org/download/oracle_vbox_2016.asc'

- name: run repo helper
  import_tasks: '{{ helpers }}/repo.yml'
  vars:
    repo_facts:
      - repo: 'deb https://download.virtualbox.org/virtualbox/debian {{ ubuntu_codename }} contrib'

- name: run package helper
  import_tasks: '{{ helpers }}/package_apt.yml'
  vars:
    package_apt_facts:
      install:
        - 'virtualbox-5.2'

- name: run template helper
  import_tasks: '{{ helpers }}/template.yml'
  vars:
    template_facts:
      - src: 'VirtualBox.xml'
        dest: '{{ user_config }}/VirtualBox'
