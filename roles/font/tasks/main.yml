---
- name: run package helper
  import_tasks: '{{ helper_path }}/package_apt.yml'

- name: recreate directory
  block:
    - import_tasks: '{{ helper_path }}/dir_remove.yml'
      vars:
        path: '{{ font_dir }}'

    - include_tasks: '{{ helper_path }}/dir_create.yml'
      vars:
        path: '{{ font_dir }}/{{ (item | basename | splitext)[0] }}'
      loop: '{{ font_list }}'

- name: download and unarchive files
  unarchive:
    src: '{{ item }}'
    dest: '{{ font_dir }}/{{ (item | basename | splitext)[0] }}'
    remote_src: yes
  loop: '{{ font_list }}'
