---
- name: run package helper
  import_tasks: '{{ helpers }}/package_apt.yml'
  vars:
    package_apt_list:
      install:
        - 'fonts-hack'
        - 'fonts-roboto-hinted'

- name: recreate directory
  block:
    - import_tasks: '{{ helpers }}/dir_remove.yml'
      vars:
        path: '{{ font_dir }}'

    - include_tasks: '{{ helpers }}/dir_create.yml'
      vars:
        path: '{{ font_dir }}/{{ (item | basename | splitext)[0] }}'
      loop: '{{ font_list }}'

- name: download and unarchive files
  unarchive:
    src: '{{ item }}'
    dest: '{{ font_dir }}/{{ (item | basename | splitext)[0] }}'
    remote_src: yes
  loop: '{{ font_list }}'
