---
- hosts: local

  pre_tasks:
    - name: upgrade system
      become: yes
      shell: apt-get update && apt-get upgrade -y

  roles:
    - global_config
    - add_key
    - add_repository
    - add_package
    - add_git_repository
    - add_link
    - add_gitignore
    - add_startup
    - disable_update
    - zsh
    - git
    - nvm
    - gnupg
    - atom
    - gnome_terminal
    - mega
    - keepassxc
    - shutter

  post_tasks:
    - name: remove useless packages from the cache and remove packages that no longer needed
      become: yes
      apt:
        force_apt_get: yes
        autoremove: yes
        autoclean: yes

    - name: reboot system
      become: yes
      shell: reboot -f
